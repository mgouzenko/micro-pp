<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Micro++: Tutorial: Building the Bjarne Blog</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Micro++
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Tutorial: Building the Bjarne Blog </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In this tutorial, we will teach you how to build a basic blogging app, step-by-step, using micro++. This tutorial will assume that you have installed micro++. If you haven’t already, follow the installation instructions in README.md or on the homepage of the Doxygen output.</p>
<h2>Getting Started</h2>
<p>A micro++ web-application is actually very simple. You can think of it as a collection of URL route strings associated with callbacks, each of which deal with a request and create a response. This idea—though simple—lets you build incredibly flexible and even complex web applications that will run blazingly fast.</p>
<p>To get started, create a new directory where you will build the app, open up a new file named <code>blog_app.cpp</code>, and write the following code:</p>
<p>### blog_app.cpp </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;micro/app.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;micro/response.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;micro/request.hpp&gt;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="classmicro_1_1response.html">micro::response</a> hello(<span class="keyword">const</span> <a class="code" href="classmicro_1_1request.html">micro::request</a>&amp; req) {</div>
<div class="line">    <a class="code" href="classmicro_1_1response.html">micro::response</a> resp;</div>
<div class="line">    resp.<a class="code" href="classmicro_1_1response.html#a2df7cb34f7700a040e1cf7d41360abf4">render_string</a>(<span class="stringliteral">&quot;&lt;h1&gt;Hello World!&lt;/h1&gt;&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> resp;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">    <a class="code" href="classmicro_1_1app.html">micro::app</a> app;</div>
<div class="line">    app.add_route(<span class="stringliteral">&quot;/&quot;</span>, hello);</div>
<div class="line">    app.<a class="code" href="classmicro_1_1app.html#a1fcc51d0124373d86d98d0a6a6cc343a">run</a>();</div>
<div class="line">}</div>
</div><!-- fragment --><p>And create the following Makefile:</p>
<p>### Makefile </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;LDLIBS = -lmicro -lboost_system -lboost_log-mt -lpthread</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;blog_app:</div>
</div><!-- fragment --><p>If you are on Linux, replace <code>lboost_log-mt</code> with <code>lboost_log</code>.</p>
<p>Now, when you run the compiled blog_app with <code>./blog_app</code>, opening up the url localhost:8080/ in your browser will display “Hello World!” in an h1 header.</p>
<p>This might look seem like a lot of code for something so simple, but let’s go through the code in <code>main()</code> line by line in so you can understand exactly what’s going on.</p>
<div class="fragment"><div class="line"><a class="code" href="classmicro_1_1app.html">micro::app</a> app;</div>
</div><!-- fragment --><p>The foundation of building a web-application begins with constructing a <code><a class="el" href="classmicro_1_1app.html" title="app powers all micro++ web applications. ">micro::app</a></code> object. The <code><a class="el" href="classmicro_1_1app.html" title="app powers all micro++ web applications. ">micro::app</a></code> object can be thought of as a wrapper over a more complicated HTTP server. By default, the server <code>port</code> is set to <code>8080</code> but is easily customizable. Let’s try setting the server to our favorite port “3000.”</p>
<div class="fragment"><div class="line"><a class="code" href="classmicro_1_1app.html">micro::app</a> app = <a class="code" href="classmicro_1_1app.html">micro::app</a>(“3000”);</div>
</div><!-- fragment --><p>Recompiling ‘</p>
<p>wrapper that allows you to more conveniently handle HTTP request and response objects. The HTTP protocol has very strict rules that must be followed in order to appropriately handle requests and send responses.</p>
<div class="fragment"><div class="line">app.add_route(<span class="stringliteral">&quot;/&quot;</span>, hello);</div>
</div><!-- fragment --><p>This next line</p>
<h3></h3>
<h2>micro-pp drawbacks</h2>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 28 2015 15:38:52 for Micro++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
